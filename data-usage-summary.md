# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö MongoDB –Ω–∞ —Å–∞–π—Ç–µ North Republic

## üè† –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (index.php)

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
1. **page_content** ‚Üí HTML –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. **menu** ‚Üí –î–∞–Ω–Ω—ã–µ –º–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞  
3. **admin_texts** ‚Üí –ü–µ—Ä–µ–≤–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
```php
// –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
$pageService = new PageContentService();
$pageData = $pageService->getPageContent('home', $currentLanguage);

// –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–Ω—é
$menuCache = new MenuCache();
$menuData = $menuCache->getMenu();

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
echo $pageData['content']; // HTML –∫–æ–Ω—Ç–µ–Ω—Ç
foreach($menuData['categories'] as $category) {
    // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –º–µ–Ω—é
}
```

---

## üìÑ –ê–¥–º–∏–Ω–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü (/admin/pages/)

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
- **page_content** ‚Üí –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### –§—É–Ω–∫—Ü–∏–∏:
- –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤
- –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- SEO –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
```json
{
  "page": "about",
  "language": "ru", 
  "content": "<h1>–û –Ω–∞—Å</h1><p>–¢–µ–∫—Å—Ç...</p>",
  "meta": {
    "title": "–û –Ω–∞—Å - North Republic",
    "description": "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ"
  },
  "status": "published"
}
```

---

## üë• –ê–¥–º–∏–Ω–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (/admin/users/)

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
- **admin_users** ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏

### –§—É–Ω–∫—Ü–∏–∏:
- –°–æ–∑–¥–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
```json
{
  "username": "admin",
  "password_hash": "$2y$10$...",
  "role": "admin",
  "permissions": ["pages", "users", "logs"],
  "last_login": "2024-01-15T10:30:00Z"
}
```

---

## üìä –õ–æ–≥–∏ –∞–¥–º–∏–Ω–æ–≤ (/admin/logs/)

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
- **admin_logs** ‚Üí –ò—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π

### –§—É–Ω–∫—Ü–∏–∏:
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é/–¥–µ–π—Å—Ç–≤–∏—é
- –ü–æ–∏—Å–∫ –ø–æ –¥–∞—Ç–µ
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
```json
{
  "action": "page_edit",
  "message": "–°—Ç—Ä–∞–Ω–∏—Ü–∞ '–û –Ω–∞—Å' –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞",
  "data": {"page": "about", "language": "ru"},
  "timestamp": "2024-01-15T10:30:00Z",
  "level": "info"
}
```

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (/admin/database/)

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
- **–í—Å–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏** ‚Üí –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –§—É–Ω–∫—Ü–∏–∏:
- –°—Ç–∞—Ç—É—Å MongoDB
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–ª–ª–µ–∫—Ü–∏–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- MongoDB viewer

### –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–ª–µ–∫—Ü–∏–π
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üí≥ –ü–ª–∞—Ç–µ–∂–∏ Sepay (/admin/sepay/)

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
- **sepay_logs** ‚Üí –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ BIDV

### –§—É–Ω–∫—Ü–∏–∏:
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–ª–∞—Ç–µ–∂–µ–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É/–¥–∞—Ç–µ
- –ü–æ–∏—Å–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
```json
{
  "transaction_id": "TXN123456",
  "amount": 500000,
  "status": "success",
  "description": "–û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞ #12345",
  "account_number": "1234567890",
  "timestamp": "2024-01-15T10:30:00Z"
}
```

---

## üçΩÔ∏è API –º–µ–Ω—é (/api/menu/)

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
- **menu** ‚Üí –ö—ç—à –¥–∞–Ω–Ω—ã—Ö Poster API

### –§—É–Ω–∫—Ü–∏–∏:
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±–ª—é–¥–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
```json
{
  "categories": [
    {
      "category_id": "123",
      "category_name": "–û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞",
      "visible": [{"spot": "1", "visible": "1"}]
    }
  ],
  "products": [
    {
      "product_id": "456", 
      "product_name": "–§–æ –ë–æ",
      "price": {"1": 150000},
      "menu_category_id": "123"
    }
  ]
}
```

---

## üîê –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
- **admin_users** ‚Üí –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **admin_sessions** ‚Üí –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏
- **admin_logs** ‚Üí –õ–æ–≥–∏ –≤—Ö–æ–¥–∞

### –ü—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–Ω–∞/–ø–∞—Ä–æ–ª—è –≤ `admin_users`
2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –≤ `admin_sessions`
3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `admin_logs`
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

---

## üåê –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
- **page_content** ‚Üí –ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü
- **admin_texts** ‚Üí –ü–µ—Ä–µ–≤–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏:
- **ru** (—Ä—É—Å—Å–∫–∏–π) - –æ—Å–Ω–æ–≤–Ω–æ–π
- **en** (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
- **vi** (–≤—å–µ—Ç–Ω–∞–º—Å–∫–∏–π)

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞:
1. –ò–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `?lang=en`
2. –ò–∑ cookie `language`
3. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä—É—Å—Å–∫–∏–π

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–∞–º—ã–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏:
1. **admin_logs** - —Ä–∞—Å—Ç–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ
2. **page_content** - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
3. **menu** - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
4. **sepay_logs** - –ø—Ä–∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –ø–ª–∞—Ç–µ–∂–µ–π

### –†–∞–∑–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö:
- **admin_logs**: ~1-10MB (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)
- **page_content**: ~100KB-1MB (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–∞)
- **menu**: ~50-200KB (–∫—ç—à Poster API)
- **sepay_logs**: ~1-5MB (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–ª–∞—Ç–µ–∂–µ–π)

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –º–µ–Ω—é:
- **–ß–∞—Å—Ç–æ—Ç–∞**: –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç
- **–ò—Å—Ç–æ—á–Ω–∏–∫**: Poster API
- **–ö–æ–ª–ª–µ–∫—Ü–∏—è**: menu
- **–ü—Ä–æ—Ü–µ—Å—Å**: —Ñ–æ–Ω–æ–≤—ã–π —á–µ—Ä–µ–∑ API

### –û—á–∏—Å—Ç–∫–∞ rate_limits:
- **–ß–∞—Å—Ç–æ—Ç–∞**: –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
- **–ö–æ–ª–ª–µ–∫—Ü–∏—è**: rate_limits
- **–ü—Ä–æ—Ü–µ—Å—Å**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π

### –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤:
- **–ö–æ–ª–ª–µ–∫—Ü–∏—è**: admin_logs
- **–ü—Ä–æ—Ü–µ—Å—Å**: –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π
- **–ü–µ—Ä–∏–æ–¥**: –ø–æ —Ä–∞–∑–º–µ—Ä—É/–≤—Ä–µ–º–µ–Ω–∏

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

### –ó–∞—â–∏—Ç–∞:
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (bcrypt)
- CSRF —Ç–æ–∫–µ–Ω—ã
- Rate limiting
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

### –î–æ—Å—Ç—É–ø:
- MongoDB —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ
- –ê–¥–º–∏–Ω–∫–∞ —á–µ—Ä–µ–∑ HTTPS
- API —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- –ê—É–¥–∏—Ç –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
