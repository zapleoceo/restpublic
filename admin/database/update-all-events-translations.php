<?php
// –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –≤ MongoDB
// –†–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

echo "üîç –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –≤ MongoDB...\n\n";

// –°–ª–æ–≤–∞—Ä—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤
$translations = [
    'en' => [
        'üé≠ –ú–∞—Ñ–∏—è' => 'üé≠ Mafia',
        'üé¨ –ö–∏–Ω–æ (–î–µ—Ç—Å–∫–∏–π —Å–µ–∞–Ω—Å)' => 'üé¨ Cinema (Children\'s Session)',
        'üé¨ –ö–∏–Ω–æ (–í–∑—Ä–æ—Å–ª—ã–π —Å–µ–∞–Ω—Å)' => 'üé¨ Cinema (Adult Session)',
        'üé• –ö–∏–Ω–æ (–î–µ—Ç—Å–∫–∏–π —Å–µ–∞–Ω—Å)' => 'üé• Cinema (Children\'s Session)',
        'üé• –ö–∏–Ω–æ (–í–∑—Ä–æ—Å–ª—ã–π —Å–µ–∞–Ω—Å)' => 'üé• Cinema (Adult Session)',
        'ü§ù –í–µ—á–µ—Ä –∑–Ω–∞–∫–æ–º—Å—Ç–≤ –∏ –Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥–∞' => 'ü§ù Networking and Dating Evening',
        '‚ö°Ô∏è Speed Friending' => '‚ö°Ô∏è Speed Friending',
        'üç≤ –õ—É—á–Ω—ã–π –±–æ–π' => 'üç≤ Archery Battle',
        'üé∂ –ë–æ—Ä—â & –ú—É–∑—ã–∫–∞ 90-—Ö' => 'üé∂ Borscht & 90s Music',
        'üé∏üé§ Sax & DJ live set' => 'üé∏üé§ Sax & DJ Live Set',
        '–õ–µ–¥—è–Ω–∞—è –≤–∞–Ω–Ω–∞' => 'Ice Bath',
        '–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –±–∞–Ω–∫–µ—Ç (—Ç–µ—Å—Ç)' => 'New Year Banquet (Test)',
        '–î–µ–≥—É—Å—Ç–∞—Ü–∏—è –≤–∏–Ω' => 'Wine Tasting',
        '–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –±–∞–Ω–∫–µ—Ç' => 'New Year Banquet',
        '–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—é –ø–∞—Å—Ç—ã' => 'Pasta Cooking Master Class',
        '–†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —É–∂–∏–Ω –Ω–∞ –î–µ–Ω—å –°–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞' => 'Romantic Valentine\'s Day Dinner',
        '–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞' => 'Restaurant Birthday',
        '–î–µ–≥—É—Å—Ç–∞—Ü–∏—è –ª—É—á—à–∏—Ö –≤–∏–Ω —Å —Å–æ–º–µ–ª—å–µ' => 'Tasting of the best wines with sommelier',
        '–ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π –±–∞–Ω–∫–µ—Ç —Å –∂–∏–≤–æ–π –º—É–∑—ã–∫–æ–π' => 'Holiday banquet with live music',
        '–£—á–∏–º—Å—è –≥–æ—Ç–æ–≤–∏—Ç—å –Ω–∞—Å—Ç–æ—è—â—É—é –∏—Ç–∞–ª—å—è–Ω—Å–∫—É—é –ø–∞—Å—Ç—É' => 'Learn to cook authentic Italian pasta',
        '–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –º–µ–Ω—é –¥–ª—è –≤–ª—é–±–ª–µ–Ω–Ω—ã—Ö' => 'Special romantic menu for lovers',
        '–ü—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏–µ –≥–æ–¥–æ–≤—â–∏–Ω—ã —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞' => 'Restaurant anniversary celebration',
        '1500 —Ä—É–±. —Å —á–µ–ª–æ–≤–µ–∫–∞' => '1500 rubles per person',
        '3000 —Ä—É–±. —Å —á–µ–ª–æ–≤–µ–∫–∞, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å' => '3000 rubles per person, advance booking required',
        '–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –ø—Ä–∏ –∑–∞–∫–∞–∑–µ –æ—Ç 2000 —Ä—É–±.' => 'Free with order from 2000 rubles',
        '2500 —Ä—É–±. –∑–∞ –ø–∞—Ä—É, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –º–µ–Ω—é' => '2500 rubles per couple, special menu',
        '–í—Ö–æ–¥ —Å–≤–æ–±–æ–¥–Ω—ã–π, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è' => 'Free entry, special offers'
    ],
    'vi' => [
        'üé≠ –ú–∞—Ñ–∏—è' => 'üé≠ Mafia',
        'üé¨ –ö–∏–Ω–æ (–î–µ—Ç—Å–∫–∏–π —Å–µ–∞–Ω—Å)' => 'üé¨ Phim (Su·∫•t chi·∫øu tr·∫ª em)',
        'üé¨ –ö–∏–Ω–æ (–í–∑—Ä–æ—Å–ª—ã–π —Å–µ–∞–Ω—Å)' => 'üé¨ Phim (Su·∫•t chi·∫øu ng∆∞·ªùi l·ªõn)',
        'üé• –ö–∏–Ω–æ (–î–µ—Ç—Å–∫–∏–π —Å–µ–∞–Ω—Å)' => 'üé• Phim (Su·∫•t chi·∫øu tr·∫ª em)',
        'üé• –ö–∏–Ω–æ (–í–∑—Ä–æ—Å–ª—ã–π —Å–µ–∞–Ω—Å)' => 'üé• Phim (Su·∫•t chi·∫øu ng∆∞·ªùi l·ªõn)',
        'ü§ù –í–µ—á–µ—Ä –∑–Ω–∞–∫–æ–º—Å—Ç–≤ –∏ –Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥–∞' => 'ü§ù T·ªëi l√†m quen v√† k·∫øt n·ªëi',
        '‚ö°Ô∏è Speed Friending' => '‚ö°Ô∏è K·∫øt b·∫°n nhanh',
        'üç≤ –õ—É—á–Ω—ã–π –±–æ–π' => 'üç≤ Tr·∫≠n chi·∫øn cung t√™n',
        'üé∂ –ë–æ—Ä—â & –ú—É–∑—ã–∫–∞ 90-—Ö' => 'üé∂ Borscht & Nh·∫°c th·∫≠p ni√™n 90',
        'üé∏üé§ Sax & DJ live set' => 'üé∏üé§ Sax & DJ Bi·ªÉu di·ªÖn tr·ª±c ti·∫øp',
        '–õ–µ–¥—è–Ω–∞—è –≤–∞–Ω–Ω–∞' => 'T·∫Øm n∆∞·ªõc ƒë√°',
        '–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –±–∞–Ω–∫–µ—Ç (—Ç–µ—Å—Ç)' => 'Ti·ªác t·∫•t ni√™n (Th·ª≠ nghi·ªám)',
        '–î–µ–≥—É—Å—Ç–∞—Ü–∏—è –≤–∏–Ω' => 'N·∫øm th·ª≠ r∆∞·ª£u vang',
        '–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –±–∞–Ω–∫–µ—Ç' => 'Ti·ªác t·∫•t ni√™n',
        '–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—é –ø–∞—Å—Ç—ã' => 'L·ªõp h·ªçc n·∫•u m√¨ √ù',
        '–†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —É–∂–∏–Ω –Ω–∞ –î–µ–Ω—å –°–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞' => 'B·ªØa t·ªëi l√£ng m·∫°n ng√†y Valentine',
        '–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞' => 'Sinh nh·∫≠t nh√† h√†ng',
        '–î–µ–≥—É—Å—Ç–∞—Ü–∏—è –ª—É—á—à–∏—Ö –≤–∏–Ω —Å —Å–æ–º–µ–ª—å–µ' => 'N·∫øm th·ª≠ nh·ªØng lo·∫°i r∆∞·ª£u vang ngon nh·∫•t v·ªõi chuy√™n gia r∆∞·ª£u',
        '–ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π –±–∞–Ω–∫–µ—Ç —Å –∂–∏–≤–æ–π –º—É–∑—ã–∫–æ–π' => 'Ti·ªác t·∫•t ni√™n v·ªõi nh·∫°c s·ªëng',
        '–£—á–∏–º—Å—è –≥–æ—Ç–æ–≤–∏—Ç—å –Ω–∞—Å—Ç–æ—è—â—É—é –∏—Ç–∞–ª—å—è–Ω—Å–∫—É—é –ø–∞—Å—Ç—É' => 'H·ªçc n·∫•u m√¨ √ù ch√≠nh th·ªëng',
        '–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –º–µ–Ω—é –¥–ª—è –≤–ª—é–±–ª–µ–Ω–Ω—ã—Ö' => 'Th·ª±c ƒë∆°n l√£ng m·∫°n ƒë·∫∑c bi·ªát cho c√°c c·∫∑p ƒë√¥i',
        '–ü—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏–µ –≥–æ–¥–æ–≤—â–∏–Ω—ã —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞' => 'L·ªÖ k·ª∑ ni·ªám ng√†y th√†nh l·∫≠p nh√† h√†ng',
        '1500 —Ä—É–±. —Å —á–µ–ª–æ–≤–µ–∫–∞' => '1500 r√∫p m·ªói ng∆∞·ªùi',
        '3000 —Ä—É–±. —Å —á–µ–ª–æ–≤–µ–∫–∞, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å' => '3000 r√∫p m·ªói ng∆∞·ªùi, c·∫ßn ƒë·∫∑t tr∆∞·ªõc',
        '–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –ø—Ä–∏ –∑–∞–∫–∞–∑–µ –æ—Ç 2000 —Ä—É–±.' => 'Mi·ªÖn ph√≠ khi ƒë·∫∑t t·ª´ 2000 r√∫p',
        '2500 —Ä—É–±. –∑–∞ –ø–∞—Ä—É, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –º–µ–Ω—é' => '2500 r√∫p cho c·∫∑p ƒë√¥i, th·ª±c ƒë∆°n ƒë·∫∑c bi·ªát',
        '–í—Ö–æ–¥ —Å–≤–æ–±–æ–¥–Ω—ã–π, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è' => 'V√†o c·ª≠a mi·ªÖn ph√≠, ∆∞u ƒë√£i ƒë·∫∑c bi·ªát'
    ]
];

// –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞
function translateText($text, $targetLanguage, $translations) {
    if (!isset($translations[$targetLanguage])) {
        return $text;
    }
    
    $translatedText = $text;
    foreach ($translations[$targetLanguage] as $ru => $translated) {
        $translatedText = str_replace($ru, $translated, $translatedText);
    }
    
    return $translatedText;
}

// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º MongoDB –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π
$mongoCommands = [];
$mongoCommands[] = "use northrepublic;";
$mongoCommands[] = "";

// –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
$events = [
    '–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –±–∞–Ω–∫–µ—Ç (—Ç–µ—Å—Ç)',
    '–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—é –ø–∞—Å—Ç—ã',
    '–õ–µ–¥—è–Ω–∞—è –≤–∞–Ω–Ω–∞',
    'üé≠ –ú–∞—Ñ–∏—è',
    'üé¨ –ö–∏–Ω–æ (–î–µ—Ç—Å–∫–∏–π —Å–µ–∞–Ω—Å)',
    'üé¨ –ö–∏–Ω–æ (–í–∑—Ä–æ—Å–ª—ã–π —Å–µ–∞–Ω—Å)',
    'üé• –ö–∏–Ω–æ (–î–µ—Ç—Å–∫–∏–π —Å–µ–∞–Ω—Å)',
    'üé• –ö–∏–Ω–æ (–í–∑—Ä–æ—Å–ª—ã–π —Å–µ–∞–Ω—Å)',
    'ü§ù –í–µ—á–µ—Ä –∑–Ω–∞–∫–æ–º—Å—Ç–≤ –∏ –Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥–∞',
    '‚ö°Ô∏è Speed Friending',
    'üç≤ –õ—É—á–Ω—ã–π –±–æ–π',
    'üé∂ –ë–æ—Ä—â & –ú—É–∑—ã–∫–∞ 90-—Ö',
    'üé∏üé§ Sax & DJ live set'
];

foreach ($events as $eventTitle) {
    $titleEn = translateText($eventTitle, 'en', $translations);
    $titleVi = translateText($eventTitle, 'vi', $translations);
    
    echo "üîÑ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è: " . $eventTitle . "\n";
    echo "  ‚úÖ EN Title: " . $titleEn . "\n";
    echo "  ‚úÖ VI Title: " . $titleVi . "\n\n";
    
    // –°–æ–∑–¥–∞–µ–º MongoDB –∫–æ–º–∞–Ω–¥—É –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π —Å —Ç–∞–∫–∏–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
    $mongoCommands[] = "// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è: " . $eventTitle;
    $mongoCommands[] = "db.events.updateMany(";
    $mongoCommands[] = "  { title: \"" . addslashes($eventTitle) . "\" },";
    $mongoCommands[] = "  {";
    $mongoCommands[] = "    \$set: {";
    $mongoCommands[] = "      title_ru: \"" . addslashes($eventTitle) . "\",";
    $mongoCommands[] = "      title_en: \"" . addslashes($titleEn) . "\",";
    $mongoCommands[] = "      title_vi: \"" . addslashes($titleVi) . "\",";
    $mongoCommands[] = "      updated_at: new Date()";
    $mongoCommands[] = "    }";
    $mongoCommands[] = "  }";
    $mongoCommands[] = ");";
    $mongoCommands[] = "";
}

// –°–æ—Ö—Ä–∞–Ω—è–µ–º MongoDB —Å–∫—Ä–∏–ø—Ç
$mongoScript = implode("\n", $mongoCommands);
file_put_contents('admin/database/update_all_events_mongodb.js', $mongoScript);

echo "üéâ –ü–µ—Ä–µ–≤–æ–¥—ã –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã!\n";
echo "üìù –°–æ–∑–¥–∞–Ω MongoDB —Å–∫—Ä–∏–ø—Ç: admin/database/update_all_events_mongodb.js\n";
echo "üìä –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Å–æ–±—ã—Ç–∏–π: " . count($events) . "\n\n";

echo "üìã –î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:\n";
echo "mongosh < admin/database/update_all_events_mongodb.js\n\n";

echo "üîç –°–æ–¥–µ—Ä–∂–∏–º–æ–µ MongoDB —Å–∫—Ä–∏–ø—Ç–∞:\n";
echo "================================\n";
echo $mongoScript;
?>
