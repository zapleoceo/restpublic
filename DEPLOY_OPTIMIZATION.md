# üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–µ–ø–ª–æ—è North Republic

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:** 1m 43s  
**–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:** ~30-45s  
**–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏:** ~60-70%

## ‚ö° –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `npm ci --only=production --prefer-offline` –≤–º–µ—Å—Ç–æ `npm install`
- –î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ `--no-scripts` –¥–ª—è composer
- –£—Å–ª–æ–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ package.json/composer.json

### 2. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**
- npm –∏ composer –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `&` –∏ `wait` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### 3. **–£—Å–ª–æ–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤
if [ ! -d "node_modules" ] || [ "package.json" -nt "node_modules" ]; then
    npm ci --only=production --prefer-offline --silent
fi
```

### 4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å `-nt` (newer than)
- –§—É–Ω–∫—Ü–∏—è `sync_files()` –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 5. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞ –º–µ–Ω—é**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞ –∫—ç—à–∞ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### 6. **–ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º –¥–µ–ø–ª–æ—è**
- –§–ª–∞–≥ `--fast` –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
- –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç `deploy-fast.sh` –¥–ª—è —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ–ø–ª–æ—è

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û–±—ã—á–Ω—ã–π –¥–µ–ø–ª–æ–π (—Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏)
```bash
bash deploy.sh
```

### –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π (–±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫)
```bash
bash deploy.sh --fast
```

### –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π
```bash
bash deploy-fast.sh
```

## üìà –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| –†–µ–∂–∏–º | –í—Ä–µ–º—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-------|----------|
| **–û–±—ã—á–Ω—ã–π** | ~45-60s | –° –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ |
| **–ë—ã—Å—Ç—Ä—ã–π** | ~30-45s | –ë–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ |
| **–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä—ã–π** | ~15-25s | –ú–∏–Ω–∏–º—É–º –æ–ø–µ—Ä–∞—Ü–∏–π |

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
install_backend_deps &
BACKEND_PID=$!

install_php_deps &
PHP_PID=$!

wait $BACKEND_PID
wait $PHP_PID
```

### –£—Å–ª–æ–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
```bash
sync_files() {
    local source="$1"
    local dest="$2"
    local description="$3"
    
    if [ -d "$source" ] || [ -f "$source" ]; then
        if [ ! -d "$dest" ] && [ ! -f "$dest" ]; then
            cp -r "$source" "$dest"
            success "$description —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã"
        elif [ "$source" -nt "$dest" ]; then
            cp -r "$source" "$dest"
            success "$description –æ–±–Ω–æ–≤–ª–µ–Ω—ã"
        fi
    fi
}
```

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞ –º–µ–Ω—é
```bash
if [ ! -f "cache/menu.cache" ] || [ "php/init-cache.php" -nt "cache/menu.cache" ]; then
    CACHE_NEEDS_UPDATE=true
fi
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–î–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –¥–µ–ø–ª–æ–µ–≤:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `deploy.sh --fast`
2. **–î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π `deploy.sh`
3. **–î–ª—è –≥–æ—Ä—è—á–∏—Ö —Ñ–∏–∫—Å–æ–≤:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `deploy-fast.sh`

## üìù –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–°–∫—Ä–∏–ø—Ç —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
```
‚è±Ô∏è  –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 0m 32s
```

–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π.
